<!DOCTYPE html>
<html>
<head>
    <title>Rich Text Copy Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .proposal {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            line-height: 1.5;
        }
        button {
            background: #14a800;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0f8500;
        }
        .test-area {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px 0;
            min-height: 100px;
            background: white;
        }
    </style>
</head>
<body>
    <h1>Rich Text Copy Test</h1>
    
    <div class="container">
        <h2>Sample Proposal with Formatting</h2>
        <div class="proposal" id="sample-proposal">
            <strong>Dear Hiring Manager,</strong><br><br>
            I am excited to apply for your project. Here's why I'm the <strong>perfect fit</strong>:<br><br>
            <h3 style="margin: 10px 0 5px 0; color: #14a800; font-size: 14px;">My Expertise</h3>
            <div style="margin: 5px 0; padding-left: 15px;">â€¢ 5+ years of experience</div>
            <div style="margin: 5px 0; padding-left: 15px;">â€¢ <strong>Proven track record</strong> with similar projects</div>
            <div style="margin: 5px 0; padding-left: 15px;">â€¢ Expertise in <em>modern technologies</em></div><br>
            I look forward to discussing your project in detail.<br><br>
            <strong>Best regards,</strong><br>
            Your Freelancer
        </div>
        
        <button onclick="copyRichText()">ðŸ“‹ Copy Rich Text</button>
        <button onclick="copyPlainText()">ðŸ“„ Copy Plain Text</button>
        
        <div class="container">
            <h3>Test Paste Area</h3>
            <p>Paste the copied content below to test formatting:</p>
            <div class="test-area" contenteditable="true" placeholder="Paste here...">
                Click here and paste (Ctrl+V) to test...
            </div>
        </div>
    </div>

    <script>
        const sampleHtml = `<strong>Dear Hiring Manager,</strong><br><br>I am excited to apply for your project. Here's why I'm the <strong>perfect fit</strong>:<br><br><h3 style="margin: 10px 0 5px 0; color: #14a800; font-size: 14px;">My Expertise</h3><div style="margin: 5px 0; padding-left: 15px;">â€¢ 5+ years of experience</div><div style="margin: 5px 0; padding-left: 15px;">â€¢ <strong>Proven track record</strong> with similar projects</div><div style="margin: 5px 0; padding-left: 15px;">â€¢ Expertise in <em>modern technologies</em></div><br>I look forward to discussing your project in detail.<br><br><strong>Best regards,</strong><br>Your Freelancer`;
        
        const samplePlainText = `Dear Hiring Manager,

I am excited to apply for your project. Here's why I'm the perfect fit:

My Expertise
â€¢ 5+ years of experience
â€¢ Proven track record with similar projects  
â€¢ Expertise in modern technologies

I look forward to discussing your project in detail.

Best regards,
Your Freelancer`;

        async function copyRichText() {
            try {
                const htmlBlob = new Blob([sampleHtml], { type: 'text/html' });
                const textBlob = new Blob([samplePlainText], { type: 'text/plain' });
                
                const clipboardItem = new ClipboardItem({
                    'text/html': htmlBlob,
                    'text/plain': textBlob
                });
                
                await navigator.clipboard.write([clipboardItem]);
                alert('Rich text copied! Paste in the test area below to see formatting preserved.');
            } catch (error) {
                console.error('Rich text copy failed:', error);
                alert('Rich text copy failed. Your browser might not support this feature.');
            }
        }
        
        async function copyPlainText() {
            try {
                await navigator.clipboard.writeText(samplePlainText);
                alert('Plain text copied! Paste in the test area to compare.');
            } catch (error) {
                console.error('Plain text copy failed:', error);
                alert('Copy failed.');
            }
        }
    </script>
</body>
</html>
